# 02. ì¶”ë¦¬ê²Œì„
í•´ë‹¹ ì¥ì—ì„œëŠ” ì‹¤ìŠµ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ì„œ `let`, `match`, ë©”ì„œë“œ, ì—°ê´€ í•¨ìˆ˜(associated functions), ì™¸ë¶€ í¬ë ˆì´íŠ¸(external crates) ë“±ì˜ ê¸°ì´ˆì ì¸ í™œìš© ë°©ë²•ì„ ë°°ì›Œë³¸ë‹¤.

**ìš”êµ¬ì‚¬í•­**
- 1~100 ì‚¬ì´ì— ì„ì˜ì˜ ì •ìˆ˜ë¥¼ ìƒì„±
- í”Œë ˆì´ì–´ê°€ ì¶”ë¦¬í•œ ì •ìˆ˜ë¥¼ ì…ë ¥
- í”„ë¡œê·¸ë¨ì€ ì…ë ¥ë°›ì€ ì¶”ë¦¿ê°’ì´ ì •ë‹µë³´ë‹¤ ë†’ê±°ë‚˜ ë‚®ìŒì„ ì•Œë ¤ì¤Œ
- ì¶”ë¦¬ê°’ì´ ì •ë‹µì´ë¼ë©´ ì¶•í•˜ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì£¼ê³  ì¢…ë£Œ

## í”„ë¡œì íŠ¸ ì¤€ë¹„í•˜ê¸°
```shell
$ cargo new guessing_game
$ cd guessing_game
```

## ì¶”ë¦¬ê°’ì„ ì²˜ë¦¬í•˜ê¸°
í”„ë¡œê·¸ë¨ì˜ ì²« ë¶€ë¶„ì—ì„œëŠ” ì‚¬ìš©ì ì…ë ¥ì„ ìš”ì²­í•˜ê³  ì…ë ¥ê°’ì˜ ì²˜ë¦¬ í›„ ì…ë ¥ê°’ì´ ê¸°ëŒ€í•˜ë˜ í˜•ì‹ì¸ì§€ ê²€ì¦í•©ë‹ˆë‹¤.  
ì²« ì‹œì‘ìœ¼ë¡œ í”Œë ˆì´ì–´ê°€ ì¶”ë¦¬í•œ ê°’ì„ ì…ë ¥ë°›ì„ ìˆ˜ ìˆê²Œ í•  ê²ƒì…ë‹ˆë‹¤.

```rust
// src/main.rs
// ì‚¬ìš©ìê°€ ì¶”ë¦¬í•˜ì—¬ ì…ë ¥í•œ ê°’ì„ ê·¸ëŒ€ë¡œ ì¶œë ¥
use std::io;

fn main() {
    println!("Guess the number!");

    println!("Please input your guess.");

    let mut guess = String::new();

    io::stdin()
        .read_line(&mut guess)
        .expect("Failed to read line");

    println!("You guessed: {guess}");
}
```
- `use std::io;` : ì‚¬ìš©ì ì…ë ¥ì„ ë°›ê³  ê²°ê´ê°’ì„ í‘œì‹œí•˜ê¸° ìœ„í•œ `io` ì…ì¶œë ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìŠ¤ì½”í”„, `io` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” `std`ë¼ê³  ë¶ˆë¦¬ëŠ” í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆìŒ
- ê¸°ë³¸ì ìœ¼ë¡œ ëŸ¬ìŠ¤íŠ¸ëŠ” ëª¨ë“  í”„ë¡œê·¸ë¨ì˜ ìŠ¤ì½”í”„ë¡œ ê°€ì ¸ì˜¤ëŠ” í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì •ì˜ëœ ì•„ì´í…œ ì§‘í•©ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
  - ì´ ì§‘í•©ì„ í”„ë ë£¨ë“œ(*prelude*)ë¼ê³  ë¶€ë¦„, ì´ì™€ ê´€ë ¨ëœ ê²ƒì€ [í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ](https://doc.rust-lang.org/std/index.html)ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆìŒ
  - ë§Œì•½ ì›í•˜ëŠ” íƒ€ì…ì´ í”„ë ë£¨ë“œì— ì—†ë‹¤ë©´ `use`ë¬¸ì„ í™œìš©í•˜ì—¬ ëª…ì‹œì ìœ¼ë¡œ ê·¸ íƒ€ì…ì„ ê°€ì ¸ì™€ì•¼í•¨
  - `std::io`ëŠ” ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ëŠ” ê²ƒì„ í¬í•¨í•˜ì—¬ `io`ì™€ ê´€ë ¨ëœ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•¨
- `fn main() {`
  - `fn` í‚¤ì›Œë“œëŠ” ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ì„ ì–¸í•¨ì„ ì˜ë¯¸
  - `()`ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ ì—†ì„ ë‚˜íƒ€ëƒ„
  - `{`ëŠ” í•¨ìˆ˜ ë³¸ë¬¸ì˜ ì‹œì‘ì„ ì˜ë¯¸
- `println!("Guess the number!");` : ë¬¸ìì—´ì„ í™”ë©´ì— ì¶œë ¥í•˜ëŠ” ë§¤í¬ë¡œ
  - í”„ë¡¬í”„íŠ¸ì— ì¶œë ¥ë¨

### ë³€ìˆ˜ì— ê°’ ì €ì¥í•˜ê¸°
```rust
let mut guess = String::new();
```
ì‚¬ìš©ìì˜ ì…ë ¥ê°’ì„ ì €ì¥í•  ë³€ìˆ˜(*variable*)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

ë³€ìˆ˜ë¥¼ ë§Œë“œëŠ”ë°ëŠ” `let` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
```rust
let apples = 5;
```
- `apples`ë¼ëŠ” ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³  5ë¼ëŠ” ê°’ì„ ëŒ€ì…í•©ë‹ˆë‹¤.
- ëŸ¬ìŠ¤íŠ¸ì—ì„œ ë³€ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¶ˆë³€(immutable)ì…ë‹ˆë‹¤.
  - ë³€ìˆ˜ì— ì–´ë–¤ ê°’ì„ ë„£ìœ¼ë©´ ê·¸ ê°’ì´ ì•ˆ ë°”ë€” ê²ƒì´ë¼ëŠ” ëœ»
  - 3ì¥ì˜ [ë³€ìˆ˜ì™€ ê°€ë³€ì„±](https://rust-kr.github.io/doc.rust-kr.org/ch03-01-variables-and-mutability.html#variables-and-mutability)ì ˆì—ì„œ ì¶”ê°€ë¡œ ë…¼ì˜í•  ì˜ˆì •
  - ë³€ìˆ˜ì˜ ê°’ì„ ê°€ë³€(mutable), ì¦‰ ë³€ê²½ ê°€ëŠ¥í•˜ë„ë¡ í•˜ë ¤ë©´ ë³€ìˆ˜ëª… ì•ì— `mut`ë¥¼ ì¶”ê°€
    - `let mut apples = 5;` // mutable variable

```rust
let mut guess = String::new();
```
ëŠ” **ê°€ë³€ ë³€ìˆ˜**ì´ë©° ë³€ìˆ˜ëª…ì€ `guess`ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì—¬ê¸°ì—ëŠ” `String:new()`ì˜ ê²°ê´ê°’ì¸ ìƒˆë¡œìš´ `String` ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë©ë‹ˆë‹¤.
`String`ì€ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” í™•ì¥ ê°€ëŠ¥í•œ(growable) UTF-8 ì¸ì½”ë”©ì˜ ë¬¸ìì—´ íƒ€ì…ì…ë‹ˆë‹¤.  
  
`::new`ì— ìˆëŠ” `::`ëŠ” `new`ê°€ `String` íƒ€ì…ì˜ ì—°ê´€ í•¨ìˆ˜(associated function)ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. 
- **ì—°ê´€ í•¨ìˆ˜**ë€ ì–´ë–¤ íƒ€ì…ì— êµ¬í˜„ëœ í•¨ìˆ˜ë¼ëŠ” ì˜ë¯¸    

ì´ `new` í•¨ìˆ˜ëŠ” ë¹„ì–´ìˆëŠ” ìƒˆ ë¬¸ìì—´ì„ ìƒì„±í•©ë‹ˆë‹¤. `new`ëŠ” ì–´ë–¤ ìƒˆë¡œìš´ ê°’ì„ ë§Œë“œëŠ” í•¨ìˆ˜ ì´ë¦„ìœ¼ë¡œ í”íˆ ì‚¬ìš©ë˜ëŠ” ì´ë¦„ì´ê¸° ë•Œë¬¸ì—, ì—¬ëŸ¬ íƒ€ì…ì—ì„œ `new` í•¨ìˆ˜ë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤.
ìš”ì•½í•˜ìë©´ ìƒˆë¡œìš´ ë¹ˆ `String` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¬¶ì–´ë„£ì€ ê°€ë³€ ë³€ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### ì‚¬ìš©ì ì…ë ¥ë°›ê¸°
```rust
io::stdin()
    .read_line(&mut guess)
```
í”„ë¡œê·¸ë¨ ì‹œì‘ì ì—ì„œ `use std::io`ë¥¼ í†µí•´ `io` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•Šë”ë¼ë„, í•¨ìˆ˜ í˜¸ì¶œ ì‹œ `std::io::stdin` ì²˜ëŸ¼ ì‘ì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
`stdin` í•¨ìˆ˜ëŠ” í„°ë¯¸ë„ì˜ í‘œì¤€ ì…ë ¥ í•¸ë“¤(handle)ì„ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì¸ `std::io::Stdin`ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ëŒë ¤ì¤ë‹ˆë‹¤.

`.read_line(&mut guess)`ëŠ” ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ë°›ê¸° ìœ„í•´ í‘œì¤€ ì…ë ¥ í•¸ë“¤ì—ì„œ `read_line` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.  
`&mut guess`ë¥¼ `read_line`ì˜ ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ì—¬ ì‚¬ìš©ì ì…ë ¥ì´ ì–´ë–¤ ë¬¸ìì—´ì— ì €ì¥ë  ê²ƒì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.

`&`ëŠ” ì½”ë“œì˜ ì—¬ëŸ¬ ë¶€ë¶„ì—ì„œ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ë²ˆ ë©”ëª¨ë¦¬ë¡œ ë³µì‚¬í•˜ì§€ ì•Šê³  ì ‘ê·¼í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì œê³µí•˜ëŠ” ì°¸ì¡°ì(*reference*)ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
 - ì°¸ì¡°ëŠ” ë³µì¡í•œ ê¸°ëŠ¥ì´ê³ , ëŸ¬ìŠ¤íŠ¸ì˜ í° ì´ì  ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ ì°¸ì¡°ìë¥¼ ì‚¬ìš©í•  ë•Œì˜ ì•ˆì „ì„±ê³¼ í¸ì˜ì„±ì…ë‹ˆë‹¤.
 - ì°¸ì¡°ìëŠ” ë³€ìˆ˜ì²˜ëŸ¼ ê¸°ë³¸ì ìœ¼ë¡œ ë¶ˆë³€ì„

### Result íƒ€ì…ìœ¼ë¡œ ì ì¬ì  ì‹¤íŒ¨ ë‹¤ë£¨ê¸°
```rust
.expect("Failed to read line");
```
ì…ë ¥ì— ì‹¤íŒ¨í•˜ëŠ” ê²½ìš° í•´ë‹¹ ëª…ë ¹ë¬¸ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.

`Result`ëŠ” *enum*ì´ë¼ê³ ë„ ì¼ì»«ëŠ” **ì—´ê±°í˜•(enumeration)**ì¸ë°, ì—¬ëŸ¬ ê°œì˜ ê°€ëŠ¥í•œ ìƒíƒœ ì¤‘ í•˜ë‚˜ì˜ ê°’ì´ ë  ìˆ˜ ìˆëŠ” íƒ€ì…ì…ë‹ˆë‹¤. ì´ëŸ° ê°€ëŠ¥í•œ ìƒíƒœ ê°’ì„ ë°°ë¦¬ì–¸íŠ¸(*variant*)ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.
ì´ `Result` íƒ€ì…ì˜ ëª©ì ì€ ì—ëŸ¬ ì²˜ë¦¬ìš© ì •ë³´ë¥¼ ë‹´ì•„ë‚´ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.
- `Result`ì˜ ë°°ë¦¬ì–¸íŠ¸ëŠ” `Ok`ì™€ `Err`ì…ë‹ˆë‹¤.
  - `Ok`ëŠ” ì²˜ë¦¬ê°€ ì„±ê³µí–ˆìŒì„ ë‚˜íƒ€ë‚´ë©° ë‚´ë¶€ì— ì„±ê³µì ìœ¼ë¡œ ìƒì„±ëœ ê²°ê³¼ë¥¼ ê°€ì§€ê³  ìˆìŒ
  - `Err`ëŠ” ì²˜ë¦¬ê°€ ì‹¤íŒ¨í–ˆìŒì„ ë‚˜íƒ€ë‚´ê³  ê·¸ ì´ìœ ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŒ

ë§Œì•½ `expect()`ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì»´íŒŒì¼ì€ ë˜ì§€ë§Œ ê²½ê³ ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.  
ëŸ¬ìŠ¤íŠ¸ëŠ” `read_line`ê°€ ëŒë ¤ì£¼ëŠ” `Result` ê°’ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŒì„ ê²½ê³ í•˜ë©° ì¼ì–´ë‚  ìˆ˜ ìˆëŠ” ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šì•˜ìŒì„ ì•Œë ¤ì¤ë‹ˆë‹¤.
[9ì¥](https://rust-kr.github.io/doc.rust-kr.org/ch09-02-recoverable-errors-with-result.html)ì—ì„œ ì—ëŸ¬ë¥¼ ë³µêµ¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë°°ìš°ê²Œ ë©ë‹ˆë‹¤.

### println! ìë¦¬í‘œìë¥¼ ì´ìš©í•œ ê°’ ì¶œë ¥í•˜ê¸°
```rust
println!("You guessed: {guess}");
```
ì´ ë¼ì¸ì€ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì„ ë‹´ê³  ìˆëŠ” ë¬¸ìì—´ì„ ì¶œë ¥í•©ë‹ˆë‹¤. `{}`ëŠ” ìë¦¬í‘œì‹œì(placeholder)ì…ë‹ˆë‹¤. `{}`ë¥¼ ì–´ë–¤ ìœ„ì¹˜ì— ê°’ì„ ìë¦¬í• ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```rust
let x = 5;
let y = 10;

println!("x = {x} and y + 2 = {}", y + 2); // "x = 5 and y + 2 = 12"ë¥¼ ì¶œë ¥
```

### ì²«ë²ˆì§¸ ë¶€ë¶„ í…ŒìŠ¤íŠ¸í•˜ê¸°
```shell
$ cargo run
Guess the number!
Please input your guess.
6
You guessed: 6
```

## ë¹„ë°€ë²ˆí˜¸ ìƒì„±í•˜ê¸°
1~100 ì‚¬ì´ì˜ ì„ì˜ì˜ ìˆ˜ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œ [rand í¬ë ˆì´ì—íŠ¸(crate)](https://crates.io/crates/rand)ë¥¼ ì‚¬ìš©í•´ë´…ì‹œë‹¤.

### í¬ë ˆì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë” ë§ì€ ê¸°ëŠ¥ ê°€ì ¸ì˜¤ê¸°
- í¬ë ˆì´íŠ¸ëŠ” ëŸ¬ìŠ¤íŠ¸ ì½”ë“œ íŒŒì¼ë“¤ì˜ ëª¨ìŒ
- ìš°ë¦¬ê°€ ë§Œë“¤ê³  ì‡ëŠ” í”„ë¡œì íŠ¸ëŠ” ì‹¤í–‰ì´ ê°€ëŠ¥í•œ *ë°”ì´ë„ˆë¦¬ í¬ë ˆì´íŠ¸(binary crate)*
- `rand` í¬ë ˆì´íŠ¸ëŠ” ìì²´ì ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ëŠ” ì—†ê³  ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì—ì„œ ì‚¬ìš©ë˜ê¸° ìœ„í•œ ìš©ë„ì¸ *ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬ë ˆì´íŠ¸(library crate)*

Cargo.tomlì— rand í¬ë ˆì´íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.  
```toml
[dependencies]
rand = "0.8.5"
```

`[dependencies]`ì—ëŠ” í”„ë¡œì íŠ¸ê°€ ì˜ì¡´í•˜ê³  ìˆëŠ” ì™¸ë¶€ í¬ë ˆì´íŠ¸ì™€ ê°ê°ì˜ ìš”êµ¬ ë²„ì „ì„ ì¹´ê³ ì—ê²Œ ì•Œë ¤ì¤ë‹ˆë‹¤. ì¹´ê³ ëŠ” ë²„ì „ ëª…ì‹œì˜ í‘œì¤€ì¸ [ìœ ì˜ì  ë²„ì „(Semantic Versioning)]()ì„ ì´í•´í•©ë‹ˆë‹¤. `0.8.5`ëŠ” ì‹¤ì œë¡œ `^0.8.5`ì˜ ì¶•ì•½í˜•ì¸ë°, ì´ëŠ” ìµœì†Œ `0.8.5` ì´ìƒì´ì§€ë§Œ `0.9.0` ì•„ë˜ì˜ ëª¨ë“  ë²„ì „ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ë‹¤ì‹œ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.
```shell
$ cargo build
    Updating crates.io index
  Downloaded libc v0.2.150
  Downloaded 1 crate (719.4 KB) in 1.42s
   Compiling libc v0.2.150
   Compiling cfg-if v1.0.0
   Compiling ppv-lite86 v0.2.17
   Compiling getrandom v0.2.10
   Compiling rand_core v0.6.4
   Compiling rand_chacha v0.3.1
   Compiling rand v0.8.5
   Compiling guessing_game v0.1.0 (/Users/xtring/Study/rust-study/rust-kr/02_guessing_game_tutorial/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 5.64s
```

CargoëŠ” `rand` í¬ë ˆì´íŠ¸ì™€ ì˜ì¡´ëœ ë‹¤ë¥¸ í¬ë ˆì´íŠ¸ë“¤ë„ ê°€ì ¸ì˜µë‹ˆë‹¤. ì´ê²ƒë“¤ì„ í•¨ê»˜ ì»´íŒŒì¼í•œ ë‹¤ìŒ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜ì¡´ì„±ê³¼ í•¨ê»˜ í”„ë¡œì íŠ¸ë¥¼ ì»´íŒŒì¼í•©ë‹ˆë‹¤.

#### í¬ë ˆì´íŠ¸ë¥¼ ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê¸°
```shell
$ cargo update
```
*Cargo.lock* íŒŒì¼ì„ ë¬´ì‹œí•˜ê³  Cargo.tomlì— ëª…ì‹œí•œ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ìµœì‹  ë²„ì „ì„ í™•ì¸í•©ë‹ˆë‹¤.
ê¸°ë³¸ì ìœ¼ë¡œ 0.8.5 ë³´ë‹¤ í¬ê³  0.9.0 ë³´ë‹¤ ì‘ì€ ë²„ì „ì„ ì°¾ì„ ê²ƒì…ë‹ˆë‹¤. ì¹´ê³ ëŠ” 0.9.0 ë²„ì „ì„ ë¬´ì‹œí•©ë‹ˆë‹¤. Cargo.lock íŒŒì¼ì—ì„œ ë³€ê²½ì´ ì¼ì–´ë‚œ ê²ƒê³¼ ì•ìœ¼ë¡œ ì‚¬ìš©ë  rand í¬ë ˆì´íŠ¸ì´ ë²„ì „ì´ 0.8.6ì„ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 0.9.0 í˜¹ì€ 0.9.x ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ Cargo.tomlì„ ìˆ˜ì •í•´ì•¼í•©ë‹ˆë‹¤.  
ê·¸ë¦¬ê³  ë‹¤ì‹œ ë¹Œë“œí•˜ê²Œë˜ë©´ ì‚¬ìš©ê°€ëŠ¥í•œ í¬ë ˆì´íŠ¸ë“¤ì˜ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ì—…ë°ì´íŠ¸í•  ê²ƒì´ê³  ë³€ê²½ëœ randì˜ ëª…ì‹œëœ ë²„ì „ì— ë”°ë¼ ë‹¤ì‹œ í‰ê°€í•  ê²ƒì…ë‹ˆë‹¤.

### ì„ì˜ì˜ ìˆ«ì ìƒì„±í•˜ê¸°
*src/main.rs*ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.
```rust
use std::io;
use rand::Rng;

fn main() {
    println!("Guess the number!");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    println!("The secret number is: {secret_number}");

    println!("Please input your guess.");

    let mut guess = String::new();

    io::stdin()
        .read_line(&mut guess)
        .expect("Failed to read line");

    println!("You guessed: {guess}");
}
```
- `use rand::Rng;` ë¼ì¸ì„ ì¶”ê°€
- `rand::thread_rng` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ OSê°€ ì‹œë“œ(seed)ë¥¼ ì •í•˜ê³  í˜„ì¬ ìŠ¤ë ˆë“œì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ë‚œìˆ˜ ìƒì„±ê¸°ì…ë‹ˆë‹¤.
  - ë‹¤ìŒìœ¼ë¡œ `gen_range` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì´ ë©”ì„œë“œëŠ” `Rng` íŠ¸ë ˆì´íŠ¸ì— ì •ì˜ë˜ì–´ìˆìŠµë‹ˆë‹¤.
    - `gen_range` ë©”ì„œë“œëŠ” ë²”ìœ„ í‘œí˜„ì‹ì„ ì¸ìˆ˜ë¡œ ë°›ì•„ì„œ í•´ë‹¹ ë²”ìœ„ ë‚´ ì„ì˜ì˜ ìˆ«ìë¥¼ ìƒì„±
      - `start..=end` í˜•íƒœë¡œ í‘œí˜„
  
ìê¸ˆì€ ê²Œì„ì„ ì‹œì‘í•˜ë©° ë‹µì„ ì¶œë ¥í•´ì£¼ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ë„ í•œë²ˆ ëœë¤í•œ ìˆ«ìë¥¼ ì¶œë ¥í•˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤!
```shell
$ cargo run
Guess the number!
The secret number is: 24
Please input your guess.
6
You guessed: 6
```

## ë¹„ë°€ë²ˆí˜¸ì™€ ì¶”ë¦¿ê°’ì„ ë¹„êµí•˜ê¸°
ëœë¤ìœ¼ë¡œ ìƒì„±ëœ ë¹„ë°€ë²ˆí˜¸ì™€ ì‚¬ìš©ìì˜ ì¶”ë¦¿ê°’ì„ ë¹„êµí•©ë‹ˆë‹¤.
*src/main.rs*ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.
```rust
use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    // --ìƒëµ--

    println!("You guessed: {guess}");

    match guess.cmp(&secret_number) {
        Ordering::Less => println!("Too small!"),
        Ordering::Greater => println!("Too big!"),
        Ordering::Equal => println!("You win!"),
    }
}
```
ë¨¼ì € useë¥¼ êµ¬ë¬¸ì„ í•˜ë‚˜ ë” ì‚¬ìš©í•˜ì—¬ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œë¶€í„° `std::cmp::Ordering`ì´ë¼ëŠ” íƒ€ì…ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. `Ordering`ì€ ì—´ê±°í˜•ì´ê³  `Less`, `Greater`, `Equal`ì´ë¼ëŠ” ë°°ë¦¬ì–¸íŠ¸ë“¤ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. 
`cmp` ë©”ì„œë“œëŠ” ë‘ ê°’ì„ ë¹„êµí•˜ê³  ë¹„êµ ê°€ëŠ¥í•œ ëª¨ë“  ê²ƒë“¤ì— ëŒ€í•´ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì„œë“œëŠ” ë¹„êµí•˜ê³  ì‹¶ì€ ê°’ë“¤ì˜ ì°¸ì¡°ì(`&`)ë¥¼ ë°›ìŠµë‹ˆë‹¤.
  
ì—¬ê¸°ì„œ `guess`ì™€ `secret_number`ë¥¼ ë¹„êµí•˜ê³  ìˆìŠµë‹ˆë‹¤. `cmp`ëŠ” `Ordering` ì—´ê±°í˜•ì„ ëŒë ¤ì¤ë‹ˆë‹¤. [match](https://rust-kr.github.io/doc.rust-kr.org/ch06-02-match.html) í‘œí˜„ì‹ì„ ì´ìš©í•˜ì—¬ `cmp`ê°€ ë‘ ê°’ì„ ë¹„êµí•œ ê²°ê³¼ì¸ Orderingì˜ ê°’ì— ë”°ë¼ ë¬´ì—‡ì„ í•  ê²ƒì¸ì§€ ê²°ì •í•©ë‹ˆë‹¤.

í•´ë‹¹ ì½”ë“œ ì¶”ê°€ í›„ í˜„ì¬ëŠ” ì»´íŒŒì¼ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
```shell
error[E0308]: mismatched types
  --> src/main.rs:22:21
   |
22 |     match guess.cmp(&secret_number) {
   |                 --- ^^^^^^^^^^^^^^ expected `&String`, found `&{integer}`
   |                 |
   |                 arguments to this method are incorrect
   |
   = note: expected reference `&String`
              found reference `&{integer}`
```
ì´ ì—ëŸ¬ëŠ” *ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” íƒ€ì…(mismatched types)* ì´ ìˆìŒì„ ì•Œë ¤ì¤ë‹ˆë‹¤. ëŸ¬ìŠ¤íŠ¸ëŠ” ê°•í•œ ì •ì  íƒ€ì… ì‹œìŠ¤í…œì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. íƒ€ì… ì¶”ë¡ ë„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
ìœ„ì—ì„œ `guess`ëŠ” `String::new()`ë¥¼ í†µí•´ ì„ ì–¸ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ `guess`ëŠ” `String` íƒ€ì…ì…ë‹ˆë‹¤.

í•œí¸ `secret_number`ëŠ” ì •ìˆ˜í˜•ì…ë‹ˆë‹¤.  
ëŸ¬ìŠ¤íŠ¸ì˜ ì •ìˆ˜í˜•ì€ `i32`ëŠ” 32ë¹„íŠ¸ ì •ìˆ˜, `u32`ëŠ” 32ë¹„íŠ¸ì˜ ë¶€í˜¸ ì—†ëŠ” ì •ìˆ˜, `i64`ëŠ” 64ë¹„íŠ¸ì˜ ì •ìˆ˜ì´ë©° ê·¸ ì™¸ì—ë„ ë¹„ìŠ·í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ì •ìˆ˜í˜•ì„ì„ ìœ ì¶”í•  ìˆ˜ ìˆëŠ” íƒ€ì… ì •ë³´ë¥¼ ë”°ë¡œ ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ëŸ¬ìŠ¤íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìˆ«ìë“¤ì„ `i32`ë¡œ ì´í•´í•©ë‹ˆë‹¤.  
ì¦‰, ì´ ì—ëŸ¬ì˜ ì›ì¸ì€ ëŸ¬ìŠ¤íŠ¸ê°€ ë¬¸ìì—´ê³¼ ì •ìˆ˜í˜•ì„ ë¹„êµí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë°œìƒí•œ ê²ƒì…ë‹ˆë‹¤.  

`guess`ë¥¼ ì •ìˆ˜í˜•ì„ ë³€í™˜í•´ë³´ê² ìŠµë‹ˆë‹¤.
- *src/main.rs*
```rust
// --ìƒëµ--

    let mut guess = String::new();

    io::stdin()
        .read_line(&mut guess)
        .expect("Failed to read line");

    let guess: u32 = guess.trim().parse().expect("Please type a number!");

    println!("You guessed: {guess}");

    match guess.cmp(&secret_number) {
        Ordering::Less => println!("Too small!"),
        Ordering::Greater => println!("Too big!"),
        Ordering::Equal => println!("You win!"),
    }
```
`let guess: u32 = guess.trim().parse().expect("Please type a number!");`
ì—¬ê¸°ì— `guess`ë¼ëŠ” ë³€ìˆ˜ê°€ ì¶”ê°€ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ëŸ¬ìŠ¤íŠ¸ì—ì„œëŠ” ê¸°ì¡´ì— ìˆë˜ ë³€ìˆ˜ë¥¼ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ê°€ë¦¬ëŠ” (shadow) ê²ƒì„ í—ˆìš©í•©ë‹ˆë‹¤. *ì„€ë„ì‰(shadowing)* ì€ ë‹¤ë¥¸ ë³€ìˆ˜ëª…ì„ ë‹¤ì‹œ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ê¸°ì¡´ì˜ ë³€ìˆ˜ëª…ì„ ì¬ì‚¬ìš©í• ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.  
3ì¥ì—ì„œ ë” ìì„¸í•˜ê²Œ ì´ì•¼ê¸° í•˜ê² ì§€ë§Œ, **ì–´ë–¤ í•œ íƒ€ì…ì˜ ê°’ì„ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥ì´ë¼ëŠ” ê²ƒì„ ì•Œì•„ë‘ë©´ ë©ë‹ˆë‹¤.**  
- `guess.trim().parse()`ëŠ” ì›ë˜ ìˆë˜ `guess`ë¥¼ ì°¸ì¡°í•˜ê³  String ì¸ìŠ¤í„´ìŠ¤ì˜ `trim` ë©”ì„œë“œë¥¼ í†µí•´ ì²˜ìŒê³¼ ëë¶€ë¶„ì˜ ê³µë°±ë¬¸ìë¥¼ ì œê±°í•œ ë’¤ `parse` ë©”ì„œë“œë¥¼ í†µí•´ `let guess: u32`ì— ì„ ì–¸ëœ íƒ€ì…ê³¼ ê°™ì´ ë³€í™˜í•©ë‹ˆë‹¤.
  - `trim` ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ì´ìœ ëŠ” ì‚¬ìš©ì ê°’ì„ ë°›ê³  ë‚œë’¤ ì—”í„°ì— ë”°ë¥¸ `\r\n`ì„ ì œê±°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. 
  
ì´ë¥¼ í†µí•´ ê°™ì€ íƒ€ì…(`u32`)ì„ ê°€ì§„ ë‘ ê°’ì´ ë¹„êµë©ë‹ˆë‹¤.

> parse ë©”ì„œë“œì˜ í˜¸ì¶œì€ ì—ëŸ¬ê°€ ë°œìƒí•˜ê¸° ì‰½ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ AğŸ‘%ê³¼ ê°™ì€ ë¬¸ìì—´ì´ í¬í•¨ë˜ì–´ ìˆë‹¤ë©´ ì •ìˆ˜ë¡œ ë°”ê¿€ ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤. parse ë©”ì„œë“œëŠ” ì‹¤íŒ¨í•  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ, â€˜Result íƒ€ì…ìœ¼ë¡œ ì ì¬ì  ì‹¤íŒ¨ ë‹¤ë£¨ê¸°â€™ì—ì„œ ë‹¤ë£¨ì—ˆë˜ read_lineì™€ ë§ˆì°¬ê°€ì§€ë¡œ Result íƒ€ì…ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ ResultëŠ” expect ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê² ìŠµë‹ˆë‹¤. ë§Œì•½ parse ë©”ì„œë“œê°€ ë¬¸ìì—´ë¡œë¶€í„° ì •ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ì—†ì–´ Err Result ë°°ë¦¬ì–¸íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤ë©´, expect í˜¸ì¶œì€ ê²Œì„ì„ ë©ˆì¶”ê³  ì œê³µí•œ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. ë§Œì•½ parse ë©”ì„œë“œê°€ ì„±ê³µì ìœ¼ë¡œ ë¬¸ìì—´ì„ ì •ìˆ˜ë¡œ ë°”ê¾¸ì—ˆë‹¤ë©´ Resultì˜ Ok ë°°ë¦¬ì–¸íŠ¸ë¥¼ ëŒë ¤ë°›ìœ¼ë¯€ë¡œ expectì—ì„œ Okì—ì„œ ì–»ê³  ì‹¶ì—ˆë˜ ê°’ì„ ê²°ê³¼ë¡œ ë°›ê²Œ ë©ë‹ˆë‹¤.
  
ì´ì œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•´ë´…ì‹œë‹¤.
```shell
$ cargo run
Guess the number!
The secret number is: 65
Please input your guess.
3
You guessed: 3
Too small!
```

í˜„ì¬ ì‚¬ìš©ìëŠ” ì¶”ì¸¡ê°’ì„ í•œë²ˆ ì¶”ë¦¬ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë¥¼ ë°˜ë³µë¬¸ì„ í†µí•´ ë°˜ë³µì ì¸ ì¶”ë¦¬ê°€ ê°€ëŠ¥í•  ìˆ˜ ìˆë„ë¡ í•´ë´…ì‹œë‹¤.

## ë°˜ë³µë¬¸ì„ ì´ìš©í•˜ì—¬ ì—¬ëŸ¬ ë²ˆì˜ ì¶”ë¦¬ í—ˆìš©í•˜ê¸°
`loop` í‚¤ì›Œë“œë¥¼ í†µí•´ì„œ ë¬´í•œë£¨í”„ë¥¼ ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- *src/main.rs*
```rust
    // --ìƒëµ--

    println!("The secret number is: {secret_number}");

    loop {
        println!("Please input your guess.");

        // --ìƒëµ--

        match guess.cmp(&secret_number) {
            Ordering::Less => println!("Too small!"),
            Ordering::Greater => println!("Too big!"),
            Ordering::Equal => println!("You win!"),
        }
    }
}
```

ê·¸ëŸ°ë° ì‚¬ìš©ìëŠ” ì´ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•  ìˆ˜ ì—†ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì‚¬ìš©ìëŠ” `ctrl + c` ë‹¨ì¶•í‚¤ë¥¼ í†µí•´ì„œ ì´ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜¹ì€ ì‚¬ìš©ì ì¶”ë¦¬ê°’ìœ¼ë¡œ ë‹¨ìˆœíˆ ë¬¸ìì—´ì„ ì…ë ¥í•˜ë”ë¼ë„ ì¢…ë£Œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì •ë‹µì„ ë§ì¹œ í›„ ì¢…ë£Œí•˜ê¸°
ì‚¬ìš©ìê°€ ì •ë‹µì„ ë§í˜”ì„ ë•Œ ê²Œì„ì´ ì¢…ë£Œë˜ë„ë¡ `break` ë¬¸ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
- *src/main.rs*
```rust
        // --ìƒëµ--

        match guess.cmp(&secret_number) {
            Ordering::Less => println!("Too small!"),
            Ordering::Greater => println!("Too big!"),
            Ordering::Equal => {
                println!("You win!");
                break;
            }
        }
    }
}
```
You win! ë’¤ì— `break` ë¼ì¸ì„ ì¶”ê°€í•˜ë©´ ì‚¬ìš©ìê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë§í˜”ì„ ë•Œ í”„ë¡œê·¸ë¨ì´ ë£¨í”„ë¥¼ ì¢…ë£Œí•˜ê²Œ ë©ë‹ˆë‹¤. ë£¨í”„ê°€ mainì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì´ë¯€ë¡œ ë£¨í”„ì˜ ì¢…ë£ŒëŠ” í”„ë¡œê·¸ë¨ì˜ ì¢…ë£Œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

## ì˜ëª»ëœ ì…ë ¥ê°’ ì²˜ë¦¬í•˜ê¸°
`guess`ì˜ ì…ë ¥ê°’ìœ¼ë¡œ ë¬¸ìì—´ì´ ë“¤ì–´ì˜¤ëŠ” ê²½ìš° ì´ì— ëŒ€í•œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤.

```rust
        // --ìƒëµ--

        io::stdin()
            .read_line(&mut guess)
            .expect("Failed to read line");

        let guess: u32 = match guess.trim().parse() {
            Ok(num) => num,
            Err(_) => continue,
        };

        println!("You guessed: {guess}");

        // --ìƒëµ--
```
`expect` ë©”ì„œë“œ í˜¸ì¶œì„ `match` í‘œí˜„ì‹ìœ¼ë¡œ ë°”ê¾¸ì–´ ì—ëŸ¬ ë°œìƒ ì‹œ ì¦‰ì‹œ ì¢…ë£Œê°€ ì•„ë‹Œ ì—ëŸ¬ ì²˜ë¦¬ë¡œ ë°”ê¾¸ì—ˆìŠµë‹ˆë‹¤. `parse` ë©”ì„œë“œê°€ `Result` íƒ€ì…ì„ ë°˜í™˜í•œë‹¤ëŠ” ì , ê·¸ë¦¬ê³  `Result`ëŠ” `Ok`ë‚˜ `Err` ë°°ë¦¬ì–¸íŠ¸ë¥¼ ê°€ì§„ ì—´ê±°í˜•ì„ì„ ê¸°ì–µí•˜ì„¸ìš”. ì—¬ê¸°ì„œëŠ” `cmp` ë©”ì„œë“œì˜ `Ordering` ê²°ê³¼ì—ì„œì™€ ë§ˆì°¬ê°€ì§€ë¡œ `match` í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì´ì œ í”„ë¡œê·¸ë¨ì„ ë™ì‘ì‹œì¼œë´…ì‹œë‹¤!
```shell
$ cargo run
Guess the number!
The secret number is: 38
Please input your guess.
50
You guessed: 50
Too big!
Please input your guess.
13
You guessed: 13
Too small!
```

ì´ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¶œë ¥í•˜ëŠ” `println!`ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
ì™„ì„±!


